(()=>{window.goatcounter={path:function(i){return location.host+i}};(function(){"use strict";window.goatcounter&&window.goatcounter.vars?window.goatcounter=window.goatcounter.vars:window.goatcounter=window.goatcounter||{};var i=document.querySelector("script[data-goatcounter]");if(i&&i.dataset.goatcounterSettings){try{var d=JSON.parse(i.dataset.goatcounterSettings)}catch(t){console.error("invalid JSON in data-goatcounter-settings: "+t)}for(var u in d)["no_onload","no_events","allow_local","allow_frame","path","title","referrer","event"].indexOf(u)>-1&&(window.goatcounter[u]=d[u])}var a=encodeURIComponent,v=function(t){var e={p:t.path===void 0?goatcounter.path:t.path,r:t.referrer===void 0?goatcounter.referrer:t.referrer,t:t.title===void 0?goatcounter.title:t.title,e:!!(t.event||goatcounter.event),s:[window.screen.width,window.screen.height,window.devicePixelRatio||1],b:w(),q:location.search},n,r,o;return typeof e.r=="function"&&(n=e.r),typeof e.t=="function"&&(o=e.t),typeof e.p=="function"&&(r=e.p),l(e.r)&&(e.r=document.referrer),l(e.t)&&(e.t=document.title),l(e.p)&&(e.p=f()),n&&(e.r=n(e.r)),o&&(e.t=o(e.t)),r&&(e.p=r(e.p)),e},l=function(t){return t==null||typeof t=="function"},w=function(){var t=window,e=document;return t.callPhantom||t._phantom||t.phantom?150:t.__nightmare?151:e.__selenium_unwrapped||e.__webdriver_evaluate||e.__driver_evaluate?152:navigator.webdriver?153:0},h=function(t){var e=[];for(var n in t)t[n]!==""&&t[n]!==null&&t[n]!==void 0&&t[n]!==!1&&e.push(a(n)+"="+a(t[n]));return"?"+e.join("&")},c=function(t){console&&"warn"in console&&console.warn("goatcounter: "+t)},s=function(){var t=document.querySelector("script[data-goatcounter]");return t&&t.dataset.goatcounter?t.dataset.goatcounter:goatcounter.endpoint||window.counter},f=function(){var t=location,e=document.querySelector('link[rel="canonical"][href]');if(e){var n=document.createElement("a");n.href=e.href,n.hostname.replace(/^www\./,"")===location.hostname.replace(/^www\./,"")&&(t=n)}return t.pathname+t.search||"/"},g=function(t){document.body===null?document.addEventListener("DOMContentLoaded",function(){t()},!1):t()};goatcounter.filter=function(){return"visibilityState"in document&&document.visibilityState==="prerender"?"visibilityState":!goatcounter.allow_frame&&location!==parent.location?"frame":!goatcounter.allow_local&&location.hostname.match(/(localhost$|^127\.|^10\.|^172\.(1[6-9]|2[0-9]|3[0-1])\.|^192\.168\.|^0\.0\.0\.0$)/)?"localhost":!goatcounter.allow_local&&location.protocol==="file:"?"localfile":localStorage&&localStorage.getItem("skipgc")==="t"?"disabled with #toggle-goatcounter":!1},window.goatcounter.url=function(t){var e=v(t||{});if(e.p!==null){e.rnd=Math.random().toString(36).substr(2,5);var n=s();return n?n+h(e):c("no endpoint found")}},window.goatcounter.count=function(t){var e=goatcounter.filter();if(e)return c("not counting because of: "+e);var n=goatcounter.url(t);if(!n)return c("not counting because path callback returned null");var r=document.createElement("img");r.src=n,r.style.position="absolute",r.style.bottom="0px",r.style.width="1px",r.style.height="1px",r.loading="eager",r.setAttribute("alt",""),r.setAttribute("aria-hidden","true");var o=function(){r&&r.parentNode&&r.parentNode.removeChild(r)};r.addEventListener("load",o,!1),document.body.appendChild(r)},window.goatcounter.get_query=function(t){for(var e=location.search.substr(1).split("&"),n=0;n<e.length;n++)if(e[n].toLowerCase().indexOf(t.toLowerCase()+"=")===0)return e[n].substr(t.length+1)},window.goatcounter.bind_events=function(){if(!!document.querySelectorAll){var t=function(e){return function(){goatcounter.count({event:!0,path:e.dataset.goatcounterClick||e.name||e.id||"",title:e.dataset.goatcounterTitle||e.title||(e.innerHTML||"").substr(0,200)||"",referrer:e.dataset.goatcounterReferrer||e.dataset.goatcounterReferral||""})}};Array.prototype.slice.call(document.querySelectorAll("*[data-goatcounter-click]")).forEach(function(e){if(!e.dataset.goatcounterBound){var n=t(e);e.addEventListener("click",n,!1),e.addEventListener("auxclick",n,!1),e.dataset.goatcounterBound="true"}})}},window.goatcounter.visit_count=function(t){g(function(){t=t||{},t.type=t.type||"html",t.append=t.append||"body",t.path=t.path||f(),t.attr=t.attr||{width:"200",height:t.no_branding?"60":"80"},t.attr.src=s()+"er/"+a(t.path)+"."+a(t.type)+"?",t.no_branding&&(t.attr.src+="&no_branding=1"),t.style&&(t.attr.src+="&style="+a(t.style)),t.start&&(t.attr.src+="&start="+a(t.start)),t.end&&(t.attr.src+="&end="+a(t.end));var e={png:"img",svg:"img",html:"iframe"}[t.type];if(!e)return c("visit_count: unknown type: "+t.type);t.type==="html"&&(t.attr.frameborder="0",t.attr.scrolling="no");var n=document.createElement(e);for(var r in t.attr)n.setAttribute(r,t.attr[r]);var o=document.querySelector(t.append);if(!o)return c("visit_count: append not found: "+t.append);o.appendChild(n)})},location.hash==="#toggle-goatcounter"&&(localStorage.getItem("skipgc")==="t"?(localStorage.removeItem("skipgc","t"),alert("GoatCounter tracking is now ENABLED in this browser.")):(localStorage.setItem("skipgc","t"),alert("GoatCounter tracking is now DISABLED in this browser until "+location+" is loaded again."))),goatcounter.no_onload||g(function(){if(!("visibilityState"in document)||document.visibilityState==="visible")goatcounter.count();else{var t=function(e){document.visibilityState==="visible"&&(document.removeEventListener("visibilitychange",t),goatcounter.count())};document.addEventListener("visibilitychange",t)}goatcounter.no_events||goatcounter.bind_events()})})();})();
