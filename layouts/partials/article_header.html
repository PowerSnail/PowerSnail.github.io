<header>
  <h1>
    {{ if eq .Kind "term" }}
      <a href="/tags/">Tags /</a>
    {{ end }}
    {{ .Title | .RenderString }}
    {{ if and .Paginator (ne .Paginator.PageNumber 1) }}
      <small>/ Page {{.Paginator.PageNumber}}</small>
    {{ end }}
    {{ partial "draft.html" .}}
  </h1>

  {{ if isset .Params "description" }}
    <div id="metadata-summary">{{ .Params.description | .RenderString }}</div>
  {{ end }}

  <hr />

  <div id="metadata">
    {{ with .Params.tags }}
    <details>
      <summary>
        <label>
          <svg xmlns="http://www.w3.org/2000/svg" alt="Tags" class="icon icon-tabler icon-tabler-tags" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M7.859 6h-2.834a2.025 2.025 0 0 0 -2.025 2.025v2.834c0 .537 .213 1.052 .593 1.432l6.116 6.116a2.025 2.025 0 0 0 2.864 0l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-6.117 -6.116a2.025 2.025 0 0 0 -1.431 -.593z" />
            <path d="M17.573 18.407l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-7.117 -7.116" />
            <path d="M6 9h-.01" />
          </svg>
        </label>Tags
      </summary>
      <div class="tag-list">
        {{ $links := apply . "partial" "tag_link.html" "." }}
        {{ $clean := apply $links "chomp" "." }}
        {{ delimit $clean " " }}
      </div>
    </details>
    {{ end }}
    {{ if and (eq .Kind "page") (eq .Section "posts") }}
    {{ $time := .Params.date }}

    <span>
      <label>
        <svg xmlns="http://www.w3.org/2000/svg" alt="Published on" class="icon icon-tabler icon-tabler-calendar-event" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <rect x="4" y="5" width="16" height="16" rx="2" />
          <line x1="16" y1="3" x2="16" y2="7" />
          <line x1="8" y1="3" x2="8" y2="7" />
          <line x1="4" y1="11" x2="20" y2="11" />
          <rect x="8" y="15" width="2" height="2" />
        </svg>
      </label>
      {{ $time.Format "2006-01-02" }}
    </span>

    <span>    
      <label>
        <svg xmlns="http://www.w3.org/2000/svg" alt="Word count" class="icon icon-tabler icon-tabler-calculator" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <rect x="4" y="3" width="16" height="18" rx="2" />
          <rect x="8" y="7" width="8" height="3" rx="1" />
          <line x1="8" y1="14" x2="8" y2="14.01" />
          <line x1="12" y1="14" x2="12" y2="14.01" />
          <line x1="16" y1="14" x2="16" y2="14.01" />
          <line x1="8" y1="17" x2="8" y2="17.01" />
          <line x1="12" y1="17" x2="12" y2="17.01" />
          <line x1="16" y1="17" x2="16" y2="17.01" />
        </svg>
      </label>
      {{ .WordCount }} words
    </span>

    <span>
      <label>
        <svg xmlns="http://www.w3.org/2000/svg" alt="Reading time" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <circle cx="12" cy="12" r="9" />
          <polyline points="12 7 12 12 15 15" />
        </svg>
      </label>
      {{ .ReadingTime }} minutes read
    </span>
    {{ end }}
  </div>
</header>

{{ if and (isset .Params "images") (gt (len .Params.images) 0) }}
{{ $image := printf "![Cover Image](%s)" (index .Params.images 0) }}
{{ $image | .RenderString }}
{{ end }}