{{- $width := 0 -}}
{{- $height := 0 -}}
{{- $isSvg := false -}}

{{- if (strings.HasSuffix .path ".svg") -}}
    {{- $isSvg = true -}}
    {{- $svgContent := "" -}}
    {{- if .isLocal -}}
        {{- $svgContent = os.ReadFile .path -}}
    {{- else -}}
        {{- $svgContent:= (resources.GetRemote .path).Content -}}
    {{- end -}}
    {{- $viewBoxSizes := split (index (split (index (split $svgContent `viewBox=`) 1) `'`) 1) ` ` -}}
    {{- $width = math.Round (float (index $viewBoxSizes 2)) -}}
    {{- $height = math.Round (float (index $viewBoxSizes 3)) -}}
{{- else -}}
    {{- if .isLocal -}}
        {{- with (imageConfig .path) -}}
            {{- $width = .Width -}}
            {{- $height = .Height -}}
        {{- end -}}
    {{- else -}}
        {{- $image := (resources.GetRemote .path) -}}
        {{- $width = $image.Width -}}
        {{- $height = $image.Height -}}
    {{- end -}}
{{- end -}}

{{- return dict "width" $width "height" $height "isSvg" $isSvg -}}