<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="author" content="PowerSnail" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <meta name="theme-color" content="#bd1b37" />

    <title>
      Theme-less Hugo, Almost Pure HTML, Styled with MVP CSS · SnailShell
    </title>

    <meta
      property="og:title"
      content="Theme-less Hugo, Almost Pure HTML, Styled with MVP CSS"
    />
    <meta property="og:site_name" content="SnailShell" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://powersnail.com/2022/hugo-mvp-css/"
    />

    <meta
      property="og:image"
      content="https://powersnail.com/icons/snail.svg"
    />

    <link rel="canonical" href="https://powersnail.com/2022/hugo-mvp-css/" />

    <link id="main-css" rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <header>
      <div
        style="
          height: 50px;
          width: 100%;
          grid-column: 1/-1;
          grid-template-columns: subgrid;
          background-color: #f57029ff;
          display: grid;
        "
      >
        <div style="grid-column: 3/-3; position: relative">
          <img
            src="/images/halloween.webp"
            width="256px"
            height="48px"
            style="
              position: absolute;
              left: 0;
              top: 0;
              max-width: 100%;
              height: auto;
            "
          />
        </div>
      </div>

      <article>
        <nav class="site-nav">
          <a href="/" class="site-title">
            <span class="site-title-text">Snail's Shell</span>
          </a>
          <div class="site-title-fill"></div>
          <a href="/posts/" class="nav-link"> Posts </a>
          <details>
            <summary>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="icon"
                width="16"
                height="16"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 4.5v15m7.5-7.5h-15"
                />
              </svg>

              More
            </summary>
            <div class="site-title-more">
              <a href="/index.xml" class="nav-link"> RSS </a>
              <a href="/about/" class="nav-link"> About </a>
              <a href="/sheet-music/" class="nav-link"> Sheet Music </a>
              <a href="/stats/" class="nav-link"> Blog Stats </a>
              <a href="/cat_dot/" class="nav-link"> Moving Red Dot for Cat </a>
              <a href="/game_of_life/" class="nav-link"> Game of Life </a>
            </div>
          </details>
        </nav>
      </article>
    </header>

    <main>
      <article id="post-main">
        <h1>Theme-less Hugo, Almost Pure HTML, Styled with MVP CSS</h1>

        <div class="metadata">
          <time datetime="2022-01-12T00:00:00Z">12 Jan 2022</time>
          · 819 words · 4 minutes read
        </div>
        <hr />

        <h2 id="theme-less-hugo">
          Theme-less Hugo
          <a href="#theme-less-hugo"><small>##</small></a>
        </h2>
        <p>
          As popular as theming is, I can&rsquo;t help but feel unsatisfied by a
          plug-and-use theme made by someone else. From WordPress to Jekyll to
          Hugo, no theme ever stopped me from tinkering with the underlying
          templates and CSS, during which, the theme inevitably becomes more
          coupled with my blog and content. This is because while the templates
          are usually generic enough for the body of blog articles, they are
          often quite specific on other elements: about, headers, footers,
          navigation bars, etc. And to customize those elements, I&rsquo;m
          practically re-writing the website.
        </p>
        <p>
          When I started with Hugo, I chose the theme
          <a href="https://github.com/mavidser/hugo-rocinante">Rocinante</a>,
          for its clean appearance, and partially for its name, which comes from
          one of my favorite novels of all time. I forked the theme, and kept
          maintaining two repositories: the blog itself, and the theme. As more
          modifications were made, the two codebases tangled with each other so
          deeply, that I often wonder where I should put a certain element.
        </p>
        <p>
          I decided to go theme-less, when the theme no longer bear any
          resemblance to the original Rocinante. There&rsquo;s no point in
          maintaining two sets of code if they cannot be decoupled.
        </p>
        <p>
          Theme-less Hugo is easy: I just needed the templates, everything in
          the <code>layouts</code> directory, to scaffold the site. So, I copied
          the skeleton code&mdash;<code>layouts</code>, and
          <code>assets</code> for the styles&mdash;into my blog, and removed the
          <code>themes</code> directory.
        </p>
        <p>
          In fact, I think if one has finished theme-shopping, and would like to
          start making customizations, the first thing to do is to copy the
          theme into their main project, and delete <code>themes</code>. It
          makes the website whole, the workflow more coherent, the workspace
          better organized, the commit history saner.
        </p>
        <h2 id="semantic-html-and-mvpcss">
          Semantic HTML and MVP.CSS
          <a href="#semantic-html-and-mvpcss"><small>##</small></a>
        </h2>
        <p>
          I have very little need for advanced topography or animations. My blog
          is just a bunch of static files hosted on GitHub Pages; nothing Fancy.
        </p>
        <p>
          This is, therefore, a very suitable use case for a classless CSS
          framework like
          <a href="https://andybrewer.github.io/mvp/">MVP.CSS</a>. Overall, I
          think MVP does a fantastic job.
        </p>
        <p>A few things that I don&rsquo;t like about it:</p>
        <ol>
          <li>
            <p>
              Block quotes. MVP centers and enlarges the text in block quote, as
              if I&rsquo;m hanging an inspirational epigram on the wall, which
              doesn&rsquo;t fit the semantic role of block quotes. It&rsquo;s
              simply a quotation that occupies a paragraph; it&rsquo;s part of
              my content, a link in the linear chain of words, not a flyout or
              illustration. MVP already has
              <code>&lt;section&gt;&lt;aside&gt;</code> to deal with that.
            </p>
          </li>
          <li>
            <p>
              Links without underlines. This makes the website less accessible
              to color-blind readers, or anyone who reads on a monochrome
              monitor.
            </p>
          </li>
          <li>
            <p>
              Alternating table row colors. Not a fault of MVP. This is merely a
              pet peeve of mine.
            </p>
          </li>
        </ol>
        <p>
          With regard to code blocks, Hugo defaults to rendering code
          highlighting with inline style of fixed colors, which is awkward when
          MVP can react to system-wise dark theme. So, I configured Hugo to
          output code blocks with CSS classes, and output two themes,
          <code>friendly</code> and <code>dracula</code>, for light and dark
          themes respectively.
        </p>
        <div class="highlight">
          <pre
            class="chroma"
          ><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># To generate the CSS files</span>
</span></span><span class="line"><span class="cl">hugo gen chromastyles --style<span class="o">=</span>friendly &gt; assets/css/_friendly.css
</span></span><span class="line"><span class="cl">hugo gen chromastyles --style<span class="o">=</span>dracula &gt; assets/css/_dracula.css</span></span></code></pre>
        </div>
        <div class="highlight">
          <pre
            class="chroma"
          ><code class="language-scss" data-lang="scss"><span class="line"><span class="cl"><span class="c1">// style.scss
</span></span></span><span class="line"><span class="cl"><span class="c1">// To include both themes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">@import</span> <span class="s2">&#34;friendly&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="o">:</span> <span class="ni">dark</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">@import</span> <span class="s2">&#34;dracula&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre>
        </div>
        <div class="highlight">
          <pre
            class="chroma"
          ><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># config.toml</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">markup</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">markup</span><span class="p">.</span><span class="nx">highlight</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">noClasses</span> <span class="p">=</span> <span class="kc">false</span></span></span></code></pre>
        </div>
        <p>
          I then colored the website with a dark banner image of Bach&rsquo;s
          manuscript, and a color scheme generated from a picture of a violin.
          To ensure that the colors have enough contrast, I generated them with
          <a href="https://bottosson.github.io/posts/oklab/">Oklab</a> color
          space, and it seems to be passing accessibility tests so far. It might
          be a total overkill though, since a few colors on the spectrum are
          used. But what is a personal project without a few overkills?
        </p>
        <h2 id="mathjax-and-a-little-grievance-of-hugo">
          MathJax, and a Little Grievance of Hugo
          <a href="#mathjax-and-a-little-grievance-of-hugo"
            ><small>##</small></a
          >
        </h2>
        <p>
          The only JavaScript I use is
          <a href="https://www.mathjax.org/">MathJax</a>. I&rsquo;ve been
          considering to use its server-side rendering, but it seems that at the
          moment of writing this blog, Hugo does not support its use.
        </p>
        <p>
          In fact, Hugo does not support running its output HTML through an
          arbitrary command, and I think it&rsquo;s a shame. There is a limit to
          what the <code>replace</code> and <code>replaceRE</code> could
          accomplish, which can be supplemented by custom filters written by
          other users.
        </p>
        <p>
          For instance, math equations can be easily rendered with LaTeX and
          converted to SVG. This will enable the embedding of arbitrary Tex
          elements, not just what MathJax supports, and at the same time,
          eliminates the need to bundle a JS library for client-side rendering.
        </p>
        <p>
          One thing that I can do is to add an extra step to
          <code>hugo build</code>, and iterate through all the output HTML with
          whatever post-processing I want. But I do hope that this could be
          integrated into Hugo, so I don&rsquo;t have to further butcher the
          GitHub Action file.
        </p>
        <h2 id="final-thoughts">
          Final Thoughts
          <a href="#final-thoughts"><small>##</small></a>
        </h2>
        <p>
          You can find all the code to my blog
          <a href="https://github.com/PowerSnail/PowerSnail.github.io">here</a>.
          My modifications to the theme, up to the point that I moved everything
          into the main repository, can be found
          <a href="https://github.com/PowerSnail/hugo-rocinante">here</a>.
        </p>

        <footer>
          <section class="footer-meta">
            <p>
              <svg
                aria-label="tags"
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                width="16"
                height="16"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"
                  clip-rule="evenodd"
                />
              </svg>
              <a href="/tags/computer-science"><code>computer science</code></a
              >, <a href="/tags/blog"><code>blog</code></a
              >, <a href="/tags/hugo"><code>hugo</code></a
              >, <a href="/tags/html"><code>html</code></a>
            </p>
          </section>

          <section>
            <p>
              Leave a comment via email:
              <a href="mailto:comment.2022.hugo-mvp-css@powersnail.com"
                >comment.2022.hugo-mvp-css@powersnail.com</a
              >.
            </p>
          </section>
        </footer>
      </article>
    </main>
    <footer>
      <article><div>© PowerSnail 2022</div></article>
    </footer>
  </body>
</html>
