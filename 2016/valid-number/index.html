<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">    
<meta name="viewport" content="width=device-width, initial-scale=1.0">






<meta name="author" content="PowerSnail">

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<meta name="theme-color" content="#bd1b37">

<title>Valid Number - By DFA · SnailShell</title>

<meta property="og:title" content="Valid Number - By DFA" />
<meta property="og:site_name" content="SnailShell" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://powersnail.com/2016/valid-number/" />


  <meta property="og:image" content="https://powersnail.com/icons/snail.svg" />




<link rel="canonical" href="https://powersnail.com/2016/valid-number/"/>




<script type="text/javascript" id="MathJax-script" src="/js/bundle.39b4c9e45c7f60379025444391711d5dc496457cd3480b1edb45bf24649fd217.js" defer></script>



  <link id="main-css" rel="stylesheet" href="/css/style.css">





  </head>
<body>
  
  
  <header>
  <article>
    <nav class="site-nav">
      <a href="/" class="site-title">
        <span class="site-title-text">Snail's Shell</span>
      </a>
      <div class="site-title-fill"></div>
      <a href="/posts/" class="nav-link">
        Posts
      </a>
      <details>
        <summary><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon" width="16" height="16">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
</svg>

More
        </summary>
        <div class="site-title-break-line"></div>
        <a href="/index.xml" class="nav-link">
          RSS
        </a>
        <a href="/about/" class="nav-link">
          About
        </a>
        <a href="/sheet-music/" class="nav-link">
          Sheet Music
        </a>
        <a href="/stats/" class="nav-link">
          Blog Stats
        </a>
        <a href="/cat_dot/" class="nav-link">
          Moving Red Dot for Cat
        </a>
        <a href="/game_of_life/" class="nav-link">
          Game of Life
        </a>
      </details>
    </nav>
  </article>
</header>

  <main>
<article id="post-main"><h1>
  Valid Number - By DFA
  

</h1>



<div class="metadata">
    <time datetime="2016-11-27T00:00:00Z">27 Nov 2016</time>
    ·
    815 words
    ·
    4 minutes read
</div>
<hr />

<h2 id="introduction-to-the-problem">
  Introduction to the Problem
  <a href="#introduction-to-the-problem"><small>##</small></a>
</h2>
<p>The question asks the programmer to validate whether a string is a valid representation of a number. After some trials, we find that the question accepts a few formats:</p>
<ol>
<li>pure integer</li>
<li>real number (decimal representation), including omitted zero, for example &ldquo;.5&rdquo;, &ldquo;12.&rdquo;</li>
<li>scientific number, that looks like &ldquo;{Real Number}e{Integer}&rdquo;</li>
<li>integer and real number can be signed</li>
<li>ignore any surrounding white spaces</li>
</ol>
<p>In order to solve the problem in linear time, most solutions set a few flags. This is simple, and quite efficient in both time and space. In fact, I don&rsquo;t really consider this problem qualified for <em>hard</em>.</p>
<p>Just to add some fun, this problem can be solved using a very textbook DFA. The code is elegant, less space efficient (but only for a constant amount) than the flag algorithm. In fact, the latter is just a compact, specialized DFA in essence. The trade-off is more variables and branching.</p>
<h2 id="the-algorithm">
  The Algorithm
  <a href="#the-algorithm"><small>##</small></a>
</h2>
<p>The first step, we trim the string. There is probably not efficient in bringing white space processing into the DFA.</p>
<div class="highlight"><pre  class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">static</span> <span class="kr">inline</span> <span class="n">string</span> <span class="nf">trim</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="o">*</span><span class="n">c</span> <span class="o">=</span> <span class="o">&amp;</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="c1">// starting pointer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>         <span class="o">*</span><span class="n">d</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// ending pointer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">c</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">isspace</span><span class="p">(</span><span class="o">*</span><span class="n">c</span><span class="p">))</span> <span class="n">c</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">d</span> <span class="o">!=</span> <span class="n">c</span> <span class="o">&amp;&amp;</span> <span class="n">isspace</span><span class="p">(</span><span class="o">*</span><span class="n">d</span><span class="p">))</span> <span class="n">d</span><span class="o">--</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">*</span><span class="p">(</span><span class="n">d</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">string</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div><h3 id="dfa---states">
  DFA - States
  <a href="#dfa---states"><small>###</small></a>
</h3>
<p>Any accepted string can be divided into a few parts:</p>
<ol>
<li>before decimal, the left part of a real number</li>
<li>decimal</li>
<li>after decimal, the right part of a real number</li>
<li>e character</li>
<li>the exponent, the right to &rsquo;e'</li>
</ol>
<p>Any part could potentially empty. The (1) and (5) could potentially be preceded with a sign (&rsquo;+&rsquo; or &lsquo;-&rsquo;).</p>
<p>Then, we can collect all states based on the grammar:</p>
<div class="table-wrapper"> <table>
<thead>
<tr>
<th>state</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>START</code></td>
<td>starting state</td>
</tr>
<tr>
<td><code>REALLEFT</code></td>
<td>before encountering any decimal</td>
</tr>
<tr>
<td><code>DOT</code></td>
<td>encounter a regular decimal</td>
</tr>
<tr>
<td><code>E</code></td>
<td>encounter an &rsquo;e&rsquo;</td>
</tr>
<tr>
<td><code>REALRIGHT</code></td>
<td>have encountered a decimal</td>
</tr>
<tr>
<td><code>DOT_E</code></td>
<td>have encountered a decimal whose left is omitted</td>
</tr>
<tr>
<td><code>ERIGHT</code></td>
<td>have encountered &rsquo;e&rsquo;, and is therefore part of the exponent</td>
</tr>
<tr>
<td><code>SIGN1</code></td>
<td>the sign on the left of the &rsquo;e'</td>
</tr>
<tr>
<td><code>SIGN2</code></td>
<td>the sign on the right of the &rsquo;e'</td>
</tr>
<tr>
<td><code>FAULT</code></td>
<td>the faulty state</td>
</tr>
</tbody>
</table> </div>
<p>The starting state is <code>START</code>.</p>
<p><code>FAULT</code> is a special state, that the DFA will halt whenever it meets <code>FAULT</code>, so that we do not have to process the rest of the string.</p>
<h3 id="dfa---transition">
  DFA - Transition
  <a href="#dfa---transition"><small>###</small></a>
</h3>
<p>The transition function is a matrix that maps (state, input char) to state.</p>
<figure>
    <img
    src="/images/valid-number-DFA.svg" alt="DFA Transformation matrix"style="max-width: 100%; height: auto">

    <figcaption></figcaption>
  </figure><div class="table-wrapper"> <table>
<thead>
<tr>
<th><em>states</em></th>
<th>DIGIT</th>
<th>SIGN</th>
<th>DOT</th>
<th>E</th>
<th>NDIGIT</th>
</tr>
</thead>
<tbody>
<tr>
<td>START</td>
<td>REALLEFT</td>
<td>SIGN1</td>
<td>DOT_E</td>
<td>FAULT</td>
<td>FAULT</td>
</tr>
<tr>
<td>REALLEFT</td>
<td>REALLEFT</td>
<td>FAULT</td>
<td>DOT</td>
<td>E</td>
<td>FAULT</td>
</tr>
<tr>
<td>DOT</td>
<td>REALRIGHT</td>
<td>FAULT</td>
<td>FAULT</td>
<td>E</td>
<td>FAULT</td>
</tr>
<tr>
<td>E</td>
<td>ERIGHT</td>
<td>SIGN2</td>
<td>FAULT</td>
<td>FAULT</td>
<td>FAULT</td>
</tr>
<tr>
<td>REALRIGHT</td>
<td>REALRIGHT</td>
<td>FAULT</td>
<td>FAULT</td>
<td>E</td>
<td>FAULT</td>
</tr>
<tr>
<td>DOT_E</td>
<td>REALRIGHT</td>
<td>FAULT</td>
<td>FAULT</td>
<td>FAULT</td>
<td>FAULT</td>
</tr>
<tr>
<td>ERIGHT</td>
<td>ERIGHT</td>
<td>FAULT</td>
<td>FAULT</td>
<td>FAULT</td>
<td>FAULT</td>
</tr>
<tr>
<td>SIGN1</td>
<td>REALLEFT</td>
<td>FAULT</td>
<td>DOT_E</td>
<td>FAULT</td>
<td>FAULT</td>
</tr>
<tr>
<td>SIGN2</td>
<td>ERIGHT</td>
<td>FAULT</td>
<td>FAULT</td>
<td>FAULT</td>
<td>FAULT</td>
</tr>
</tbody>
</table> </div>
<figure>
    <img
    src="/images/valid_number_dfa.svg" alt="grammar" width="473.47"  height="503.12" style="max-width: 100%; height: auto" width="473.47"  height="503.12" loading="lazy">

    <figcaption></figcaption>
  </figure><h3 id="dfa---termination">
  DFA - Termination
  <a href="#dfa---termination"><small>###</small></a>
</h3>
<p>The DFA will terminate when</p>
<ul>
<li>input is depleted</li>
<li>state is <code>FAULT</code></li>
</ul>
<p>The string will be accepted if the termination state is one of following:</p>
<ul>
<li><code>REALLEFT</code></li>
<li><code>REALRIGHT</code></li>
<li><code>ERIGHT</code></li>
<li><code>DOT</code></li>
</ul>
<p>In all other cases, the format is somewhat faulty. For example, if the DFA ended at <code>E</code>, then the string looks like <code>&quot;{some number}e&quot;</code>, which is not acceptable.</p>
<hr>
<p>The running of the DFA is easy. Simply iterate over the input, and let the transition matrix do its magic.</p>
<h2 id="complete-code">
  Complete Code:
  <a href="#complete-code"><small>##</small></a>
</h2>
<div class="highlight"><pre  class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">static</span> <span class="kr">inline</span> <span class="n">string</span> <span class="nf">trim</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">char</span> <span class="o">*</span><span class="n">c</span> <span class="o">=</span> <span class="o">&amp;</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">             <span class="o">*</span><span class="n">d</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">c</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">isspace</span><span class="p">(</span><span class="o">*</span><span class="n">c</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="n">c</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">d</span> <span class="o">!=</span> <span class="n">c</span> <span class="o">&amp;&amp;</span> <span class="n">isspace</span><span class="p">(</span><span class="o">*</span><span class="n">d</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="n">d</span><span class="o">--</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="o">*</span><span class="p">(</span><span class="n">d</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">string</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">START</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">REALLEFT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">DOT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">E</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">REALRIGHT</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">DOT_E</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ERIGHT</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">SIGN1</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">SIGN2</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">FAULT</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">DIGIT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">NDIGIT</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">SIGN</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">G</span><span class="p">[</span><span class="mi">45</span><span class="p">]</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="c1">//  DIGIT       SIGN    DOT      E     NDIGIT
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">REALLEFT</span><span class="p">,</span>   <span class="n">SIGN1</span><span class="p">,</span>  <span class="n">DOT_E</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">REALLEFT</span><span class="p">,</span>   <span class="n">FAULT</span><span class="p">,</span>  <span class="n">DOT</span><span class="p">,</span>    <span class="n">E</span><span class="p">,</span>      <span class="n">FAULT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">REALRIGHT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">E</span><span class="p">,</span>      <span class="n">FAULT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">ERIGHT</span><span class="p">,</span>     <span class="n">SIGN2</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">REALRIGHT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">E</span><span class="p">,</span>      <span class="n">FAULT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">REALRIGHT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">ERIGHT</span><span class="p">,</span>     <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">REALLEFT</span><span class="p">,</span>   <span class="n">FAULT</span><span class="p">,</span>  <span class="n">DOT_E</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">ERIGHT</span><span class="p">,</span>     <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span><span class="p">,</span>  <span class="n">FAULT</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">isNumber</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span> <span class="o">=</span> <span class="n">trim</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">char</span> <span class="n">prev</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">state</span> <span class="o">=</span> <span class="n">START</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">c</span> <span class="p">:</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="n">FAULT</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">ch</span> <span class="o">=</span> <span class="p">(</span><span class="n">isdigit</span><span class="p">(</span><span class="n">c</span><span class="p">))</span> <span class="o">?</span> <span class="nl">DIGIT</span>
</span></span><span class="line"><span class="cl">                    <span class="p">:</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;.&#39;</span><span class="p">)</span>  <span class="o">?</span> <span class="nl">DOT</span>
</span></span><span class="line"><span class="cl">                    <span class="p">:</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;e&#39;</span><span class="p">)</span>  <span class="o">?</span> <span class="nl">E</span>
</span></span><span class="line"><span class="cl">                    <span class="p">:</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;+&#39;</span><span class="p">)</span>  <span class="o">?</span> <span class="nl">SIGN</span>
</span></span><span class="line"><span class="cl">                    <span class="p">:</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;-&#39;</span><span class="p">)</span>  <span class="o">?</span> <span class="nl">SIGN</span>
</span></span><span class="line"><span class="cl">                    <span class="p">:</span> <span class="n">NDIGIT</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">state</span> <span class="o">=</span> <span class="n">G</span><span class="p">[</span><span class="n">state</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">ch</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="n">E</span> <span class="o">||</span> <span class="n">state</span> <span class="o">==</span> <span class="n">DOT_E</span> <span class="o">||</span> <span class="n">state</span> <span class="o">==</span> <span class="n">SIGN1</span> <span class="o">||</span> <span class="n">state</span> <span class="o">==</span> <span class="n">SIGN2</span> <span class="o">||</span> <span class="n">state</span> <span class="o">==</span> <span class="n">START</span> <span class="o">||</span> <span class="n">state</span> <span class="o">==</span> <span class="n">FAULT</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>

  


  <footer>
    

    <section class="footer-meta">
      
      <p>
        
        <svg
          aria-label="tags"
          class="icon"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          width="16"
          height="16"
        >
          <path
            fill-rule="evenodd"
            d="M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"
            clip-rule="evenodd"
          />
        </svg>
           <a href="/tags/computer-science"><code>computer science</code></a>, <a href="/tags/algorithm"><code>algorithm</code></a>, <a href="/tags/leetcode"><code>leetcode</code></a>, <a href="/tags/c&#43;&#43;"><code>C&#43;&#43;</code></a>
      </p>
      
    </section>

    <section><p>
        Leave a comment via email: 
        <a href="mailto:comment.2016.valid-number@powersnail.com">comment.2016.valid-number@powersnail.com</a>. 
      </p>
    </section>
  </footer>
</article>


  </main><footer>
  <article><div>© PowerSnail 2016</div>
  </article>
</footer>

</body>
</html>
